**БД** - файл 

**ИС** - совокупность железа, софта для ввода, обработки , выдачи информации

- обработка - программа
- передача - сети 
- хранение - БД

**ИС**:
- Аппаратное обеспечение
- Программное обеспечение
- Данные, с которыми работают сотрудники

#### Архитектура 
Архитектура - структура организации компонентов
Виды:
1. **Аппаратная архитектура** - железо: сервера
2. **Программная архитектура** - СУБД 
3. **Архитектура данных** - сетевая архитектура
### Компоненты, отвечающие за безопасность и управление
#### 1. Производительность VS надёжность
- **Производительность**: Система оптимизирована для максимальной скорости и эффективности. Подход часто используется в системах, где критичны быстродействие и минимальная задержка.
- **Надежность**: Системы, ориентированные на надежность, фокусируются на стабильной работе и устойчивости к сбоям, даже если это замедляет работу. В критически важных приложениях, как в авиации или медицинских системах, надежность важнее производительности.
#### 2. Безопастность *VS* Удобство использования (Ubuntu)
Удобство - простой и интуитивно понятный интерфейс с минимальным количеством препятствий для пользователя, что иногда снижает уровень безопасности (например, упрощенная аутентификация)
#### 3. Гибкость и простота
- **Гибкость**: Система позволяет легко адаптироваться к изменениям и добавлять новые функции, но это может усложнить систему.
- **Простота**: Легкость в использовании и управлении, что снижает сложность, но может ограничивать возможности настройки и расширения.
#### 4. Стоимость VS качество
- **Стоимость**: Экономия ресурсов, использование более дешевых решений, которые могут быть менее качественными.
- **Качество**: Высококачественные решения с использованием надежных материалов и технологий, что может увеличивать затраты.
#### 5. Скорость разработки VS функциональности
- **Скорость разработки**: Быстрое создание и выпуск продуктов, иногда с сокращением количества функций.
- **Функциональности**: Полноценный и тщательно продуманный продукт, что увеличивает время разработки.
#### 6. Масштабируемость VS эксплуатационные затраты
- **Масштабируемость**: Система может легко расширяться для поддержки большего количества пользователей или данных, что может потребовать дополнительных затрат.
- **Эксплуатационные затраты**: Минимизация расходов на поддержание и управление системой, что может ограничить масштабируемость.
#### 7. Инновации VS проверенные решения
- **Инновации**: Использование новейших технологий и методов, которые могут быть рискованными, но дают конкурентное преимущество.
- **Проверенные решения**: Использование устоявшихся и надежных технологий, которые могут быть менее эффективными, но более безопасными и предсказуемыми.
#### 8. Интерпретация VS автономность 
- **Интерпретация**: Системы, которые зависят от взаимодействия и указаний, требуют большей управляемости.
- **Автономность**: Системы, способные самостоятельно принимать решения и функционировать без вмешательства.
#### 9. Поддержка старых технологий VS Новые
- **Поддержка старых технологий**: Обеспечение совместимости с устаревшими системами, что может ограничить внедрение новшеств.
- **Новые технологии**: Внедрение современных технологий, что может привести к несовместимости с устаревшими системами.
#### 10. Централизация(связь) VS Децентрализация (собственная копия, с ней работаешь сам)
- **Централизация**: Все данные и управление сосредоточены в одном месте, что упрощает контроль и администрирование.
- **Децентрализация**: Данные распределены, и каждый узел работает независимо, что увеличивает устойчивость к сбоям, но усложняет управление.

Эти балансы часто требуют компромиссов в зависимости от целей и требований системы.

### Функции БД
#### 1. Хранение данных
Основная функция БД – это надежное хранение больших объемов данных в структурированном виде. 
Данные могут быть различных типов: текстовые, числовые, мультимедийные и др.
#### 2. Организация структур БД
Создание и поддержка логической структуры данных, включая таблицы, индексы, представления и другие объекты, обеспечивающие оптимальную организацию и доступ к данным.
#### 3. Обеспечение доступа к БД
Поддержка различных способов доступа к данным, включая язык SQL, API-интерфейсы и пользовательские интерфейсы. Это обеспечивает взаимодействие приложений и пользователей с данными.
#### 4. Обеспечение целостности данных
Поддержание целостности данных, включая контроль уникальности, внешних ключей и других ограничений. Это предотвращает повреждение данных и гарантирует их достоверность
#### 5. Поддержка многопользовательского режима
- Обеспечение одновременного доступа нескольких пользователей к данным с управлением транзакциями и предотвращением конфликтов через механизмы блокировок и параллельного выполнения.
#### 6. Обеспечение безопасности
- Управление доступом к данным через системы авторизации и аутентификации, шифрование, аудит и контроль прав доступа, что защищает данные от несанкционированного доступа.
#### 7. Поддержка резервного копирования и восстановления
- Создание резервных копий данных и механизмов восстановления для защиты данных от потерь в случае сбоев или аварий, обеспечивая непрерывность работы системы.
#### 8. Анализ и отчётность 
- Поддержка инструментов анализа данных, формирования отчетов и бизнес-аналитики для принятия обоснованных решений на основе хранимых данных.
#### 9. Масштабируемость 
- Способность базы данных эффективно обрабатывать возрастающие объемы данных и пользователей за счет горизонтального или вертикального масштабирования, обеспечивая рост системы без потери производительности. База данных растёт постоянноп

### Данные
**Данные** -  представления информации в формализованном(использование чётких правил, структур и стандартов) виде, подающиеся многократными интерпретациям или обработкам
- Все данные имеют структуры
- Все ИС построены, как конечные автоматы (пока что)

**Интерпретация данных** — это процесс извлечения смысла или значений из данных.

## Multitier architecture (Многозвенная архитектура) 
- ИС разделяются на отдельные блоки, каждый из которых имеет свою специфическую функцию. Гибкость структуры (т.е. не надо трогать всё)
#### Уровни архитектуры:
##### 1. Клиентский уровень (Client Tier)
- Это уровень, на котором пользователь взаимодействует с системой. 
- Основная задача клиента — запросить данные или действия от сервера, а затем показать результаты пользователю.
- Пример: веб-браузер, мобильное приложение или любой клиент, который отправляет запросы и получает ответы от серверов.
##### 2. Уровень логики приложения (Application Tier)
- Здесь происходит обработка бизнес-логики: данные получаются, обрабатываются, проверяются и передаются между клиентом и сервером.
- Этот уровень может включать серверы, обрабатывающие запросы, выполнение вычислений, обработки данных, управление сессиями и т. д. 
- Пример: веб-сервер или приложение, которое выполняет бизнес-логику.
##### 3. Уровень данных (Data Tier)
- На этом уровне находятся все данные и управление ими. База данных или файловая система предоставляет хранилище для всей информации, а также функции для извлечения, обновления и управления данными.
- Этот уровень отвечает за хранение и управление данными, включая запросы, индексы, резервное копирование и т.д.
### Преимущества: 
#### 1. Масштабируемость 
- Увеличение производительности достигается за счёт разделения функциональности на несколько уровней. Например, можно отдельно масштабировать уровень данных, добавив больше серверов баз данных, или уровень логики, добавив больше серверов для обработки запросов.
#### 2. Разделение задач
-  Каждая группа разработчиков или специалистов может сосредоточиться на своём уровне, например, команда работает только с базами данных, другая занимается бизнес-логикой, а третья — с пользовательским интерфейсом.
#### 3. Безопасность 
- Каждый уровень можно защитить отдельно. Например, клиентский уровень может быть защищён с помощью SSL/TLS, а уровень данных — через ограничение доступа и использование аутентификации. 
#### 4. Гибкость и повторное использование
- Компоненты системы могут быть модифицированы или заменены без необходимости менять всё приложение. Например, можно изменить способ хранения данных (например, перейти с SQL на NoSQL) или обновить бизнес-логику, не затрагивая клиентскую часть.
#### 5. Поддержка различных интерфейсов
- Многозвенная архитектура позволяет поддерживать разные клиентские интерфейсы (веб, мобильные приложения, десктопные клиенты), так как вся бизнес-логика и обработка данных сосредоточены на сервере, и интерфейсы взаимодействуют только с ним.
#### В общем:
Многозвенная архитектура — это мощный подход для построения гибких, масштабируемых и безопасных информационных систем. Разделение на уровни даёт возможность оптимизировать производительность, улучшить управление и облегчить модернизацию системы.

## Виды многозвенных архитектур
#### 1. Двухзвенная архитектура (Two-Tier Architecture)
В этой архитектуре клиентская и серверная части разделены на два уровня:
- **Тонкий клиент (Thin Client)**:
	- Клиентская часть отвечает только за отображение интерфейса и передачу запросов к серверу.
	- Вся логика приложения и обработка данных происходит на сервере.
	- Пример: веб-браузеры, которые отображают веб-страницы, обрабатываемые сервером.
- **Толстый клиент (Thick Client)**:
	- Большая часть логики приложения и обработки данных выполняется на клиентской стороне.
	- Серверная часть в основном хранит данные.
	- Пример: настольные приложения, которые обрабатывают данные локально, но используют сервер для хранения данных.
#### 2. Трёхзвенная архитектура (Three-Tier Architecture)
Эта архитектура делит систему на три уровня, каждый из которых отвечает за свою часть работы:
- **Клиентский уровень (Client Tier)**:
    - Отвечает за интерфейс пользователя и взаимодействие с пользователем.
    - Отправляет запросы к серверу приложения и отображает результаты.
- **Уровень приложения (Application Tier)**:
    - Выполняет бизнес-логику и обработку данных.
    - Получает запросы от клиентского уровня, обрабатывает их и взаимодействует с сервером базы данных.
- **Уровень данных (Data Tier)**:
    - Хранит данные и управляет доступом к ним.
    - Выполняет запросы к базе данных и возвращает результаты серверу приложения.
#### 3. Многоуровневая архитектура (N-Tier Architecture)
Эта архитектура добавляет дополнительные уровни, чтобы улучшить интеграцию, безопасность и масштабируемость:
- **Дополнительные уровни**:
    - Могут включать уровни для интеграции с внешними системами, промежуточные слои для кэширования, обработку данных и т.д.
    - Например, уровень API, который предоставляет интерфейсы для взаимодействия с другими системами или приложениями.
- **API (Application Programming Interface)**:
    - Предоставляет набор функций или методов, которые позволяют различным программам взаимодействовать друг с другом.
    - Обеспечивает стандартизированный способ доступа к функциям системы, облегчая интеграцию и использование.

## ANSI-SPARC architecture 
**ANSI-SPARC** (American National Standards Institute - Standards Planning And Requirements(требования) Committee) архитектура предлагает трёхуровневую модель для баз данных, обеспечивающую абстракцию и независимость данных на разных уровнях.

#### 1. Внешний уровень (External Level)
- **Описание**: Определяет, как данные представляются пользователям или приложениям. Каждый пользователь может иметь своё собственное представление данных, настроенное под его потребности.

- **Цель**: Разные пользователи могут видеть одну и ту же базу данных по-разному, в зависимости от своих задач.

#### 2. Концептуальный уровень (Conceptual Level)
- **Описание**: Представляет единое логическое представление всех данных в базе данных. На этом уровне описывается структура всей базы данных, включая связи между данными и правила целостности.

- **Функции**:
	- Абстрагирование от физического хранения.
	- Управление безопасностью, целостностью и проверкой данных.
	- Предоставление единого интерфейса для всех пользователей.

#### 3. Физический уровень (Internal Level)
- **Описание**: Определяет, как данные физически хранятся и управляются на уровне хранения.

- **Функции**:
	- Распределение дискового пространства для хранения данных.
	- Организация файлов, индексов и других структур хранения.
	- Оптимизация доступа к данным для повышения производительности.


**Пример физического хранения данных:**

```
+---------------------------------------+
| Заголовок страницы (N байт)           |
+---------------------------------------+
| Id записи | Данные записи             |  
+---------------------------------------+
| Битик на активность                   | 
+---------------------------------------+
| Другие данные                         | 
+---------------------------------------+
| Сжатые данные записей                 |  
+---------------------------------------+
```
- **Заголовок страницы**: Содержит метаданные, которые описывают свойства страницы, такие как размер, уникальный номер, и состояние.
- **Идентификатор записи (Id)**: Уникальный идентификатор, используемый для ссылки на запись.
- **Битик на активность**: Указывает, активна ли запись или помечена для удаления.
- **Сжатые данные записей**: Данные хранятся в сжатом виде для экономии дискового пространства, что повышает эффективность хранения и передачи данных.

Эта структура помогает организовать данные так, чтобы они были:
- легко доступны
- защищены 
- могли быть эффективно обработаны в соответствии с запросами пользователей и приложений


## Модель "Сущность-Связь" (**ER** **Model**)
Модель ER (Entity-Relationship) используется для представления данных и их взаимосвязей в логической структуре базы данных. Она состоит из следующих ключевых элементов:
### 1. Сущность (Entity):

- **Определение**: Сущность представляет собой объект реального мира, о котором нужно хранить информацию в базе данных. Это может быть человек, предмет, событие и т.д.
- **Типы сущностей**:
    - **Сильная сущность**: Сущность, которая существует самостоятельно и не зависит от других сущностей.
        - Пример: Студент, Книга.
    - **Слабая сущность**: Сущность, существование которой зависит от сильной сущности. Она не имеет уникального ключа и идентифицируется через связь с сильной сущностью.
        - Пример: Курс студента (зависит от студента).

### 2. Атрибут (Attribute):

- **Определение**: Атрибут — это характеристика или свойство сущности, которое описывает её.
- **Типы атрибутов**:
    - **Простые**: Неразделимые (например, Имя).
    - **Составные**: Состоят из нескольких компонентов (например, Адрес, который включает Улицу, Город, Почтовый индекс).
    - **Многозначные**: Могут иметь несколько значений (например, Телефонные номера).
    - **Производные**: Вычисляются на основе других атрибутов (например, Возраст на основе Даты рождения).
### 3. Связь (Relationship):

- **Определение**: Связь описывает взаимодействие между двумя или более сущностями.
- **Типы связей**:
    - **Один-к-одному (1:1)**: Каждая сущность одной сущности связана только с одной сущностью другой сущности.
    - **Один-ко-многим (1:N)**: Одна сущность связана с несколькими сущностями другой сущности.
    - **Многие-ко-многим (M:N)**: Много сущностей одной сущности связаны с многими сущностями другой сущности.
### 4. Нотации для ER моделей:

- **Нотация Чена**:
    
    - Использует прямоугольники для сущностей, овалы для атрибутов, и ромбы для связей.
    - Популярна в учебных целях за её ясность.
- **Нотация Баркера**:
    
    - Использует более компактные обозначения, часто применяемая в бизнес-диаграммах.
    - Сущности изображаются как прямоугольники, связи между ними – линиями.
- **Нотация IDEF1X**:
    
    - Используется для создания более детализированных и стандартизированных диаграмм.
    - Применяется для описания сложных систем, часто в государственном и военном секторах.

### 5. Физическая модель:

- **Определение**: Представляет конкретную реализацию логической модели в конкретной системе управления базами данных (СУБД). Включает схемы таблиц, индексы, типы данных и другие детали реализации.
- **Элементы**:
    - Таблицы и колонки, соответствующие сущностям и атрибутам.
    - Первичные и внешние ключи для обеспечения целостности данных.
    - Индексы для ускорения запросов.

### Пример ER модели:

1. **Сущности**:
    
    - Студент (сильная сущность): Атрибуты - Имя, ID, Дата рождения.
    - Курс (слабая сущность): Атрибуты - Название курса, Код курса.
2. **Связь**:
    
    - Записан на (Один студент может быть записан на несколько курсов, один курс может включать нескольких студентов).

Эта структура помогает проектировать базы данных таким образом, чтобы эффективно управлять данными и поддерживать их целостность.

## Определения БД и СУБД

`def` **База данных** - это совместно используемый набор логически связанных данных, и описание этих данных, предназначенные для удовлетворения информационных потребностей организаций. **(с) Коннолли и Бегг**

`def` **База данных** - это набор постоянно хранимых данных, используемых прикладными системами какого-либо предприятия. **(с) Дейт**

`def` **База данных** - это совокупность специальным образом организованных данных, хранимых в памяти вычислительной системы, и отображающих состояния объектов и их взаимосвязей в рассматриваемой предметной области. **(с) Хомоненко**
(Повышеву нравится)

Пример: 
	Представьте, что вы нашли файл с названием "самый важный файл в жизни человечества". Он содержит три столбца с заголовками X, Y, Z и множество цифр. Без контекста или дополнительной информации, эти данные не имеют смысла. Нам нужно:
	**Предметная область**: Понять, что представляют X, Y и Z в реальном мире. Это могут быть координаты, статистические данные, финансовые показатели и т.д.
	**СУБД**: Система управления базами данных помогает управлять и интерпретировать данные. Она хранит метаданные, такие как заголовки, связи между данными и правила целостности, что делает данные полезными.

`def` **СУБД** - программное обеспечение, с помощью которого пользователи могут определять, создавать и поддерживать базу данных, а также осуществлять к ней контролируемый доступ **(с) Коннолли и Бегг**

`def` **СУБД** - Программное обеспечение, которое управляет всем доступом к базе данных **(с) Дейт**

`def` **СУБД** - это комплекс языковых и программных средств, предназначенный для создания, ведения и совместного использования базы данных многими пользователями **(с) Хомоненко** (Повышеву нравится)

### Положение DBMS(СУБД)
1.  **Верхний уровень - приложения**: Пользовательские программы, такие как браузеры и текстовые редакторы, взаимодействуют с операционной системой для выполнения задач.
2. **Операционная система (ОС)**: Управляет доступом приложений к аппаратной части компьютера, обеспечивает базовые функции для работы всех программ.
3. **Файловая система**: Связывает логические имена файлов с их физическим расположением на дисках. Она играет ключевую роль в организации данных на уровне операционной системы.
4. **Утилиты**: Программы, которые помогают управлять файловой системой, дисковым пространством и другим оборудованием. Это могут быть средства для дефрагментации, проверки состояния дисков и т.д.
5. **Виртуальная машина (VM)**: Абстрагирует физическое оборудование, позволяя разделять ресурсы, такие как дисковое пространство, на тома, как методом дробления, так и методом объединения.
6. **Multipath Software**: Это ПО, которое обеспечивает многопутевой доступ к устройствам хранения, что особенно важно для серверов. Оно позволяет использовать несколько путей к устройству хранения для обеспечения отказоустойчивости и повышения производительности.
7. **Drivers**: Программное обеспечение, которое обеспечивает взаимодействие между операционной системой и аппаратным обеспечением.
8. **Host Bus Adapter (HBA)**: Адаптер, который обеспечивает соединение между сервером и устройством хранения, таким как SAN (Storage Area Network). Т.е. интерфейс подключения дискового пространства.
9. **DBMS (СУБД)**: Система управления базами данных, которая работает под управлением операционной системы и взаимодействует напрямую с дисковым пространством. Она обрабатывает запросы на хранение, изменение и извлечение данных, предоставляя абстракцию над физическими аспектами хранения данных.

### Роль СУБД

1. **Управление данными**:
    
    - Обеспечивает хранение данных, поддержание их целостности и выполнение операций выборки, обновления и удаления.
2. **Абстрагирование данных**:
    
    - Изолирует пользователей от низкоуровневых деталей хранения данных, чтобы предотвратить изменения, которые могут нарушить функционирование системы.
3. **Многопользовательский режим**:
    
    - Поддерживает одновременную работу нескольких пользователей с одним и тем же набором данных.
4. **Безопасность и оптимизация**:
    
    - Обеспечивает доступ к данным на основе ролей и разрешений, поддерживает резервное копирование и оптимизацию запросов для повышения производительности.

### Компоненты СУБД

1. **Ядро**:
    
    - **Система управления памятью**: Управляет использованием оперативной памяти для хранения временных данных и структур.
    - **Модуль управления транзакциями**: Обеспечивает согласованность данных при одновременном выполнении нескольких транзакций.
    - **Модуль управления данными**: Обрабатывает операции чтения и записи данных в файловую систему.
    - **Модуль блокировки**: Предотвращает конфликты при одновременном доступе нескольких пользователей к одним и тем же данным, регулируя доступ.
2. **Файловая система и структура данных**:
    
    - **MDF (Primary Data File)**: Основной файл данных, где хранятся основные данные и метаданные.
    - **NDF (Secondary Data File)**: Дополнительные файлы данных, используемые для распределения нагрузки и повышения безопасности.
    - **LDF (Log Data File)**: Файлы журналов транзакций, которые используются для восстановления данных и отката транзакций.
3. **Модуль T-SQL запросов**:
    
    - Обрабатывает запросы, написанные на языке T-SQL, и передает их для выполнения.
4. **Query Processor**:
    
    - Анализирует, оптимизирует и исполняет запросы, написанные пользователями, преобразуя их в план выполнения.
5. **Buffer Pool**:
    
    - Кэширует данные для ускорения доступа к ним, уменьшает необходимость повторного чтения данных с диска.

#### Дополнительные компоненты:

- **SSMS (SQL Server Management Studio)**: Инструмент для управления SQL Server, позволяющий выполнять запросы, администрировать сервер и мониторить его состояние.
- **SQL Profiler**: Утилита для мониторинга выполнения запросов и анализа производительности.
- **SQL Agent**: Компонент, отвечающий за автоматическое выполнение задач, таких как резервное копирование и обслуживание базы данных.










